{"version":3,"file":"ionictakepicture.component.js","sourceRoot":"","sources":["../../src/components/ionictakepicture.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component,Input, OnInit,ViewChild } from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { ToastController,Platform } from '@ionic/angular';\r\nimport { Camera, CameraOptions } from '@ionic-native/camera/ngx';\r\n\r\nvar HTMLTEMPLATE=`\r\n<div *ngIf=\"pictureData == ''\">\r\n<ion-button (click)=\"takePicture()\" color=\"warning\" fill=\"outline\" class=\"button-take-picture custom-color\">\r\n<img src=\"assets/general/TakePictureIcon.svg\"/>\r\n</ion-button>\r\n</div>\r\n<div *ngIf=\"pictureData != ''\" style=\"display:grid;\">\r\n<img [src]=\"pictureData\" class=\"image-container\"/>\r\n<ion-button shape=\"round\" fill=\"outline\" color=\"warning\" class=\"two-button-container button-box-shadow retake-button-container custom-color\" (click)=\"takePicture()\">\r\n<p class=\"notosans-bold lightblack no-margin border-width-secondary-button text-button\">{{retake}}</p>\r\n</ion-button>\r\n</div>\r\n`;\r\nvar STYLESHEET = `\r\n.button-take-picture{\r\n    border-width: 2px;\r\n    border-radius: 16px;\r\n    height: 100px;\r\n    width: 100px;\r\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.1);\r\n    margin-top: 8px;\r\n    margin-bottom: 8px;\r\n}\r\n.retake-button-container{\r\n    width: 100px;\r\n    border-width: 2px;\r\n    --box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.1);\r\n    height: 40px;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n}\r\n.two-button-container{\r\n    width:100px;\r\n    border-width: 2px;\r\n    --box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.1);\r\n    height: 40px;\r\n    margin-top: 0px;\r\n    margin-bottom: 0px;\r\n}\r\n.button-box-shadow button.button-native{\r\n    box-shadow: 0 8px 16px 0 rgba(0, 0, 0, 0.1);\r\n}\r\n.notosans-bold{\r\n    font-family: 'NotoSans-Bold' !important;\r\n}\r\n.lightblack{\r\n    color:#221e20;\r\n}\r\n.no-margin{\r\n    margin:0;\r\n}\r\n.text-button{\r\n    font-size: 14px;\r\n    line-height: 1.29;\r\n    text-transform: capitalize;\r\n}`;\r\nvar CUSTOM_COLOR=`\r\n.custom-color {\r\n    --ion-color-warning:#FFD500;\r\n}`\r\n\r\n@Component({\r\n    selector: 'ion-takepicture',\r\n    template: HTMLTEMPLATE,\r\n    styles: [STYLESHEET,CUSTOM_COLOR],\r\n    providers: [{\r\n        provide: NG_VALUE_ACCESSOR,\r\n        useExisting: IonictakepictureComponent,\r\n        multi: true\r\n    }]\r\n})\r\nexport class IonictakepictureComponent implements OnInit,ControlValueAccessor {\r\n\r\n    pictureData = '';\r\n    cameraOptions: CameraOptions = {}\r\n    retake='Retake'\r\n\r\n    constructor(private camera: Camera,private toastController: ToastController,private plt: Platform) {\r\n        this.cameraOptions = {\r\n            quality: 80,\r\n            saveToPhotoAlbum:false,\r\n            cameraDirection: this.camera.Direction.BACK,\r\n            destinationType: this.camera.DestinationType.DATA_URL,\r\n            encodingType: this.camera.EncodingType.JPEG,\r\n            mediaType: this.camera.MediaType.PICTURE,\r\n            targetHeight: 225,\r\n            targetWidth:300\r\n        }\r\n    }\r\n\r\n    @Input() set color(data: string) {\r\n        CUSTOM_COLOR=\".custom-color {--ion-color-warning:\"+data+\";}\"\r\n    }\r\n\r\n    @Input() set initialImage(data: string) {\r\n        if(data === undefined || data == null) {\r\n            this.pictureData = '';\r\n        }\r\n        else {\r\n            this.pictureData = data;\r\n        }\r\n    }\r\n\r\n    @Input() set targetWidth(data: number) {\r\n        this.cameraOptions.targetWidth = data;\r\n    }\r\n\r\n    @Input() set saveToPhotoAlbum(data: boolean) {\r\n        this.cameraOptions.saveToPhotoAlbum = data;\r\n    }\r\n\r\n    @Input() set cameraDirection(data: number) {\r\n        this.cameraOptions.cameraDirection = data;\r\n    }\r\n\r\n    @Input() set destinationType(data: number) {\r\n        this.cameraOptions.destinationType = data;\r\n    }\r\n\r\n    @Input() set encodingType(data: number) {\r\n        this.cameraOptions.encodingType = data;\r\n    }\r\n\r\n    @Input() set mediaType(data: number) {\r\n        this.cameraOptions.mediaType  = data;\r\n    }\r\n\r\n    @Input() set targetHeight(data: number) {\r\n        this.cameraOptions.targetHeight = data;\r\n    }\r\n\r\n    @Input() set quality(data: number) {\r\n        this.cameraOptions.quality = data;\r\n    }\r\n\r\n    @Input() set language(data: string) {\r\n        this.retake = (data == 'ID') ? 'Ulangi' : 'Retake'\r\n    }\r\n\r\n    ngOnInit() {\r\n\r\n    }\r\n\r\n    private onTouch: Function = () => {};\r\n    private disabled: boolean = false;\r\n\r\n    onChange(data) {\r\n\r\n    }\r\n\r\n    // Allow Angular to set the value on the component\r\n    writeValue(value): void {\r\n        if(value === undefined || value == null) {\r\n            this.pictureData = '';\r\n            this.onChange(this.pictureData);\r\n        }\r\n        else {\r\n            this.pictureData = value;\r\n            this.onChange(this.pictureData);\r\n        }\r\n    }\r\n\r\n    // Save a reference to the change function passed to us by \r\n    // the Angular form control\r\n    registerOnChange(fn): void {\r\n        this.onChange = fn;\r\n        \r\n    }\r\n\r\n    // Save a reference to the touched function passed to us by \r\n    // the Angular form control\r\n    registerOnTouched(fn): void {\r\n        this.onTouch = fn;\r\n        \r\n    }\r\n\r\n    // Allow the Angular form control to disable this input\r\n    setDisabledState(disabled: boolean): void {\r\n        this.disabled = disabled;\r\n    }\r\n\r\n    takePicture(){\r\n        this.pictureData='';\r\n        this.camera.getPicture(this.cameraOptions).then((imageData) => {\r\n            this.pictureData='data:image/jpeg;base64,' + imageData;\r\n            this.writeValue(this.pictureData);\r\n            // let base64Image = 'data:image/jpeg;base64,' + imageData;\r\n        }, (err) => {\r\n            // Handle error\r\n            if (this.plt.is('cordova')) {\r\n                this.writeValue(this.pictureData);\r\n            }\r\n            else {\r\n                this.presentToast(\"Can't Use Camera in browser. Use Dummy Data Instead\",\"fail\");\r\n                this.pictureData = 'data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCADhASwDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAECCP/EABsQAQEBAQEBAQEAAAAAAAAAAAABQRExUSFh/8QAFgEBAQEAAAAAAAAAAAAAAAAAAAEC/8QAFREBAQAAAAAAAAAAAAAAAAAAAAH/2gAMAwEAAhEDEQA/AOVgFUQvp0ABEAAAQFRUBUFBFQAAAABUAAAFEAFQBQAEFAAAh6AC9QFVDqqIcVBABAEUBFARUAAAAAAAAAAAAAAAAAVAAVFAEUAAAEBRUAoAAAICggAAAAAAAAAAAAAAAAAAAAAAACoAqKAgoCoCgAACICiAqAAAAAAAAAAAAAAAAAAACoAAACooIqALUUAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAFQAAAABQFABARQBAAAAAAAAAAAAAAAAAAAAAAAAABUABUAVABQ0ACAAAIAAKgAAAAAAAAAAAAAAAAAAAAAAAAAAAqAoGqACACAqKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAKgoAAoAIAAIoAgAAAAAAAAAAAAAAAAAAAAAAAAoICgCANICgAgAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAKIAoIDQCqgCAAIAAAgAAKgAAAAAAAAAAAAAAAAAAAAAKICgAoCqIqAAIgAAigIqAAAAAAAAAAAAAAAAAKIAAAoigAAAA1f6i1FUSqAgoCAfiIAAAAIqACgIAAAAAAKgAAALgIqAKAAgoAAFA4DSLqK1QAQCoAAiAAAIAKAgqAAACoAKgAqACoAqAKigAAAAEDpqhqgKpfQWKlARClAEigiJhoAaAB9QAWIAAAKgAAAAAL8AEUAKQARcACemAoQBAUFV//9k=';\r\n                this.writeValue(this.pictureData);\r\n            }\r\n        });\r\n    }\r\n\r\n    async presentToast(text,type) {\r\n        let customClass = \"toast-\"+type;\r\n        const toast = await this.toastController.create({\r\n            message: text,\r\n            cssClass: customClass,\r\n            duration: 2000\r\n        });\r\n        toast.present();\r\n    }\r\n}\r\n"]}